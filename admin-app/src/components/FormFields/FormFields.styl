@import '../../styles/variables'
@import '../../styles/mixins'

.dvc-field
  wordpress-field()
  
  // WordPress Components Integration
  .components-base-control
    margin-bottom 0
    width 100%
    
    &__label
      font-weight 600
      color #333
    
    &__help
      color #666
      font-size 13px
      font-style italic

  &.toggle-field
    .components-form-toggle
      width 42px
      height 22px

      &.is-checked
        .components-form-toggle__thumb
          transform translateX(20px)

      .components-form-toggle__input:focus+.components-form-toggle__track
        box-shadow none

      .components-form-toggle__track
        width 42px
        height 22px
        border-radius 11px

      .components-form-toggle__thumb
        width 18px
        height 18px

    .components-toggle-control
      margin-bottom 0

      .components-h-stack
        flex-direction row-reverse  

      .components-toggle-control__help
        margin-left 0

// List Fields
.list-field
  .list-items
    margin-bottom 12px
  
  .list-item
    margin-bottom $spacing-sm
    align-items flex-start
  
  .remove-item-btn
    height 36px
  
  .add-item-section
    margin-top 12px
    padding-top 12px
    border-top 1px solid $border-color

// Repeater Fields
.repeater-field
  .repeater-items
    margin-bottom $spacing-md
  
  .repeater-item
    margin-bottom 12px
    
    &.collapsed
      .components-card__header
        cursor pointer
  
  .expand-toggle
    justify-content flex-start
    width 100%
    text-align left
  
  .item-preview
    color #666
    font-weight normal
    margin-left $spacing-sm
  
  .repeater-fields
    display flex
    flex-direction column
    gap 1rem
  
  .add-repeater-item
    width 100%
    justify-content center

// Repeater Field Styling - KORRIGIERT
.dvc-field.repeater-field
  // ðŸ”§ WICHTIG: Maximale HÃ¶he entfernen fÃ¼r Scrolling
  max-height none !important
  
  .dvc-field-header
    margin-bottom 16px
    
    .dvc-field-label
      display block
      font-weight 600
      color #333
      margin-bottom 4px
      
    .dvc-field-description
      margin 0
      color #666
      font-size 13px
      font-style italic

  .repeater-items
    margin-bottom 16px
    
  .repeater-item
    margin-bottom 8px
    border 1px solid #ddd
    border-radius 4px
    overflow hidden
    
    &.expanded
      .repeater-item-header
        border-bottom 1px solid #ddd
        
    &.collapsed
      .repeater-item-header
        border-bottom none
        
  .repeater-item-header
    padding 12px 16px !important
    background #f9f9f9
    cursor pointer // ðŸ”§ Ganzer Header klickbar
    
    .repeater-item-toggle
      flex 1 // ðŸ”§ Nimmt ganzen verfÃ¼gbaren Platz
    
    .expand-toggle
      padding 0 !important
      background none !important
      border none !important
      box-shadow none !important
      text-align left
      width 100%
      justify-content flex-start
      pointer-events none // ðŸ”§ Button selbst nicht klickbar, nur der Container
      
      &:hover
        background none !important
        
      .expand-icon
        display inline-block
        width 16px
        height 16px
        margin-right 8px
        font-size 12px
        line-height 16px
        text-align center
        color #666
        transition transform 0.2s ease
        
      .item-label
        color #333
        font-weight 500
        
  .repeater-item-content
    padding 0 !important
    
  .repeater-fields
    padding 1.25rem 0
    
    .dvc-field
      margin-bottom 1rem
      padding-bottom 1rem
      border-bottom 1px solid #f0f0f0
      
      &:last-child
        margin-bottom 0
        padding-bottom 0
        border-bottom none
        
  .repeater-empty
    text-align center
    padding 40px 20px
    background #f9f9f9
    border 2px dashed #ddd
    border-radius 4px
    color #666
    
    p
      margin 0
      font-style italic
      
  .add-repeater-item
    width 100%
    justify-content center
    margin-bottom: .25rem

// Font Selector spezifische Styles
.font-selector
  .font-list
    max-height: 400px
    overflow-y: auto
    border: 1px solid #ddd
    border-radius: 4px
    padding: 15px

  .font-item
    margin-bottom: 15px
    
    &:last-child
      margin-bottom: 0

    .components-card__header
      padding: 12px 16px

    .components-card__body
      padding: 0 16px 16px

  .font-weights
    margin-top: 10px
    
    label
      font-weight: 500
      margin-bottom: 8px
      display: block

    .components-flex
      gap: 10px

  .font-actions
    padding: 15px 0

    .components-button
      margin-right: 10px